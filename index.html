<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω–∫—É—Ä—Å—ã</title>
	<script src="https://telegram.org/js/telegram-web-app.js" async></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 100%;
            padding: 16px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px 16px;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }

        .header p {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .competition-list {
            display: grid;
            gap: 16px;
            margin-bottom: 24px;
        }

        .competition-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            border-left: 4px solid #667eea;
        }

        .competition-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .competition-card h3 {
            color: #333;
            margin-bottom: 8px;
            font-size: 1.2rem;
        }

        .competition-meta {
            display: flex;
            gap: 16px;
            margin-top: 12px;
            font-size: 0.9rem;
            color: #666;
        }

        .competition-meta span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-top: 8px;
        }

        .status.active {
            background-color: #e8f5e9;
            color: #2e7d32;
        }

        .status.ended {
            background-color: #ffebee;
            color: #c62828;
        }

        .status.upcoming {
            background-color: #e3f2fd;
            color: #1565c0;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s;
            width: 100%;
            margin-top: 16px;
        }

        .btn:hover {
            opacity: 0.9;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #6c757d;
            margin-top: 8px;
        }

        .detail-page {
            display: none;
        }

        .back-button {
            background: none;
            border: none;
            color: #667eea;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            cursor: pointer;
            padding: 8px 0;
        }

        .detail-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            border-radius: 20px;
            margin-bottom: 24px;
        }

        .detail-header h1 {
            font-size: 1.8rem;
            margin-bottom: 12px;
        }

        .prize {
            font-size: 1.4rem;
            font-weight: bold;
            color: #ffd700;
            margin: 16px 0;
        }

        .description {
            background: white;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .description h3 {
            margin-bottom: 12px;
            color: #333;
        }

        .rules {
            background: white;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .rules ul {
            padding-left: 20px;
            margin-top: 12px;
        }

        .rules li {
            margin-bottom: 8px;
        }

        .registration-form {
            background: white;
            padding: 24px;
            border-radius: 12px;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .success-message {
            background: #e8f5e9;
            color: #2e7d32;
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            margin: 20px 0;
            display: none;
        }

        .loader {
            text-align: center;
            padding: 40px;
            color: #667eea;
        }

        .no-competitions {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            margin: 20px 0;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–æ–Ω–∫—É—Ä—Å–æ–≤ -->
        <div id="mainPage">
            <div class="header">
                <h1>üöÄ –ö–æ–Ω–∫—É—Ä—Å—ã –∏ –¢—É—Ä–Ω–∏—Ä—ã</h1>
                <p>–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π—Ç–µ –ø—Ä–∏–∑—ã!</p>
            </div>

            <div id="competitionList" class="competition-list">
                <!-- –°–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—É—Ä—Å–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∑–¥–µ—Å—å -->
                <div class="loader" id="mainLoader">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω–∫—É—Ä—Å–æ–≤...</p>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π –∫–æ–Ω–∫—É—Ä—Å–∞ -->
        <div id="detailPage" class="detail-page">
            <button class="back-button" onclick="goBack()">
                ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
            </button>

            <div id="competitionDetail">
                <!-- –î–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—É—Ä—Å–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                <div class="loader" id="detailLoader">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...</p>
                </div>
            </div>
        </div>

        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <div id="successMessage" class="success-message">
            <h3>‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!</h3>
            <p>–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
        </div>

        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
        <div id="errorMessage" class="error-message">
            <h3>‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
            <p id="errorText">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—É—Ä—Å–æ–≤</p>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—É—Ä—Å–æ–≤
        const competitions = [
            {
                id: 1,
                title: "–•–∞–∫–∞—Ç–æ–Ω –ø–æ –í–µ–±-–†–∞–∑—Ä–∞–±–æ—Ç–∫–µ 2024",
                description: "–°–æ–∑–¥–∞–π—Ç–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ 48 —á–∞—Å–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏.",
                detailedDescription: "–ü—Ä–∏–≥–ª–∞—à–∞–µ–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –ø—Ä–∏–Ω—è—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ –Ω–∞—à–µ–º –µ–∂–µ–≥–æ–¥–Ω–æ–º —Ö–∞–∫–∞—Ç–æ–Ω–µ. –¢–µ–º–∞ —ç—Ç–æ–≥–æ –≥–æ–¥–∞ - '–ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö'. –£—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å–æ–∑–¥–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ—à–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ —Å—Ñ–µ—Ä–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.",
                prize: "–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑: 100,000 ‚ÇΩ",
                rules: [
                    "–ö–æ–º–∞–Ω–¥—ã –æ—Ç 2 –¥–æ 5 —á–µ–ª–æ–≤–µ–∫",
                    "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª—é–±—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π —Ä–∞–∑—Ä–µ—à–µ–Ω–æ",
                    "–ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º",
                    "–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –¥–µ–Ω—å"
                ],
                deadline: "2024-06-15",
                startDate: "2024-06-01",
                status: "active",
                participants: 128,
                maxParticipants: 200,
                category: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"
            },
            {
                id: 2,
                title: "–ö–æ–Ω–∫—É—Ä—Å –î–∏–∑–∞–π–Ω–∞ UI/UX",
                description: "–°–æ–∑–¥–∞–π—Ç–µ –ª—É—á—à–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–∞–Ω–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è.",
                detailedDescription: "–ö–æ–Ω–∫—É—Ä—Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –ø–æ–∏—Å–∫ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã—Ö –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤, —Å–ø–æ—Å–æ–±–Ω—ã—Ö —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏ –∫—Ä–∞—Å–∏–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –£—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—â–µ–≥–æ.",
                prize: "–ü—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥: 75,000 ‚ÇΩ",
                rules: [
                    "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ",
                    "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —ç–∫—Ä–∞–Ω–æ–≤",
                    "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º",
                    "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Figma"
                ],
                deadline: "2024-05-30",
                startDate: "2024-05-01",
                status: "active",
                participants: 89,
                maxParticipants: 150,
                category: "–î–∏–∑–∞–π–Ω"
            },
            {
                id: 3,
                title: "AI/ML –ß–µ–ª–ª–µ–Ω–¥–∂",
                description: "–†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ –º–æ–¥–µ–ª—å –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ä—ã–Ω–æ—á–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤.",
                detailedDescription: "–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ –ø–æ –º–∞—à–∏–Ω–Ω–æ–º—É –æ–±—É—á–µ–Ω–∏—é –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –£—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—É—á–∞—Ç –¥–æ—Å—Ç—É–ø –∫ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –¥–∞—Ç–∞—Å–µ—Ç—É –∏ –¥–æ–ª–∂–Ω—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å —Å –Ω–∞–∏–ª—É—á—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π.",
                prize: "1 –º–µ—Å—Ç–æ: 50,000 ‚ÇΩ + —Å—Ç–∞–∂–∏—Ä–æ–≤–∫–∞",
                rules: [
                    "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∏–ª–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ (–¥–æ 3 —á–µ–ª–æ–≤–µ–∫)",
                    "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞",
                    "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ GitHub",
                    "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ—à–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞"
                ],
                deadline: "2024-07-20",
                startDate: "2024-07-01",
                status: "upcoming",
                participants: 45,
                maxParticipants: 100,
                category: "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç"
            },
            {
                id: 4,
                title: "–ö–æ–Ω–∫—É—Ä—Å –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–∏—Å—å–º–∞",
                description: "–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π —Ä–∞—Å—Å–∫–∞–∑ –Ω–∞ —Ç–µ–º—É '–ì–æ—Ä–æ–¥ –±—É–¥—É—â–µ–≥–æ'.",
                detailedDescription: "–ö–æ–Ω–∫—É—Ä—Å –¥–ª—è –ø–∏—Å–∞—Ç–µ–ª–µ–π –∏ –≤—Å–µ—Ö, –∫—Ç–æ –ª—é–±–∏—Ç —Å–æ—á–∏–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏–∏. –¢–µ–º–∞ —ç—Ç–æ–≥–æ –≥–æ–¥–∞ - '–ì–æ—Ä–æ–¥ –±—É–¥—É—â–µ–≥–æ'. –†–∞–±–æ—Ç—ã –±—É–¥—É—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å—Å—è –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å—é–∂–µ—Ç–∞, –∫–∞—á–µ—Å—Ç–≤—É —è–∑—ã–∫–∞ –∏ –≥–ª—É–±–∏–Ω–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Ç–µ–º—ã.",
                prize: "–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –∂—É—Ä–Ω–∞–ª–µ + 30,000 ‚ÇΩ",
                rules: [
                    "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ",
                    "–û–±—ä–µ–º: 3000-5000 —Å–ª–æ–≤",
                    "–Ø–∑—ã–∫: —Ä—É—Å—Å–∫–∏–π",
                    "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞"
                ],
                deadline: "2024-05-25",
                startDate: "2024-04-01",
                status: "active",
                participants: 156,
                maxParticipants: 300,
                category: "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞"
            }
        ];

        // –¢–µ–∫—É—â–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω–∫—É—Ä—Å
        let currentCompetition = null;

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∫–æ–Ω–∫—É—Ä—Å–æ–≤
        function loadCompetitions() {
            const container = document.getElementById('competitionList');
            const loader = document.getElementById('mainLoader');
            const errorDiv = document.getElementById('errorMessage');
            
            // –°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
            loader.style.display = 'block';
            errorDiv.style.display = 'none';
            
            // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö
            setTimeout(() => {
                loader.style.display = 'none';
                
                try {
                    if (!competitions || competitions.length === 0) {
                        container.innerHTML = `
                            <div class="no-competitions">
                                <h3>üòî –ö–æ–Ω–∫—É—Ä—Å–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                                <p>–ù–æ–≤—ã–µ –∫–æ–Ω–∫—É—Ä—Å—ã –ø–æ—è–≤—è—Ç—Å—è —Å–∫–æ—Ä–æ. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏!</p>
                            </div>
                        `;
                        return;
                    }

                    // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–Ω–∫—É—Ä—Å—ã: –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–Ω–∞—á–∞–ª–∞
                    const sortedCompetitions = [...competitions].sort((a, b) => {
                        const statusOrder = { active: 1, upcoming: 2, ended: 3 };
                        return statusOrder[a.status] - statusOrder[b.status];
                    });

                    container.innerHTML = sortedCompetitions.map(comp => `
                        <div class="competition-card" onclick="showCompetitionDetail(${comp.id})">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                                <h3>${comp.title}</h3>
                                <span style="font-size: 0.8rem; color: #666; background: #f0f0f0; padding: 2px 8px; border-radius: 12px;">
                                    ${comp.category}
                                </span>
                            </div>
                            <p style="margin-top: 8px; color: #555;">${comp.description}</p>
                            <div class="competition-meta">
                                <span title="–î–µ–¥–ª–∞–π–Ω">üìÖ –î–æ ${formatDate(comp.deadline)}</span>
                                <span title="–£—á–∞—Å—Ç–Ω–∏–∫–∏">üë• ${comp.participants}/${comp.maxParticipants}</span>
                            </div>
                            <span class="status ${comp.status}">
                                ${getStatusText(comp.status)}
                            </span>
                        </div>
                    `).join('');
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω–∫—É—Ä—Å–æ–≤:', error);
                    errorDiv.style.display = 'block';
                    document.getElementById('errorText').textContent = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
                }
            }, 500); // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—É—Ä—Å–∞
        function showCompetitionDetail(id) {
            try {
                currentCompetition = competitions.find(c => c.id === id);
                
                if (!currentCompetition) {
                    alert('–ö–æ–Ω–∫—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    return;
                }
                
                document.getElementById('mainPage').style.display = 'none';
                document.getElementById('detailPage').style.display = 'block';
                document.getElementById('successMessage').style.display = 'none';
                document.getElementById('errorMessage').style.display = 'none';

                const detailContainer = document.getElementById('competitionDetail');
                const loader = document.getElementById('detailLoader');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
                loader.style.display = 'block';
                
                // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É
                setTimeout(() => {
                    loader.style.display = 'none';

                    detailContainer.innerHTML = `
                        <div class="detail-header">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <span style="font-size: 0.9rem; opacity: 0.9;">${currentCompetition.category}</span>
                                <span class="status ${currentCompetition.status}">
                                    ${getStatusText(currentCompetition.status)}
                                </span>
                            </div>
                            <h1>${currentCompetition.title}</h1>
                            <div class="prize">üèÜ ${currentCompetition.prize}</div>
                            <div class="competition-meta">
                                <span title="–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞">üìÖ –ù–∞—á–∞–ª–æ: ${formatDate(currentCompetition.startDate)}</span>
                                <span title="–î–µ–¥–ª–∞–π–Ω">‚è∞ –î–µ–¥–ª–∞–π–Ω: ${formatDate(currentCompetition.deadline)}</span>
                                <span title="–£—á–∞—Å—Ç–Ω–∏–∫–∏">üë• ${currentCompetition.participants}/${currentCompetition.maxParticipants}</span>
                            </div>
                        </div>

                        <div class="description">
                            <h3>üìù –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω–∫—É—Ä—Å–∞</h3>
                            <p>${currentCompetition.detailedDescription}</p>
                        </div>

                        <div class="rules">
                            <h3>üìã –ü—Ä–∞–≤–∏–ª–∞ —É—á–∞—Å—Ç–∏—è</h3>
                            <ul>
                                ${currentCompetition.rules.map(rule => `<li>${rule}</li>`).join('')}
                            </ul>
                        </div>

                        <div class="registration-form" id="registrationForm">
                            <h3>üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å</h3>
                            <div class="form-group">
                                <label for="userName">–í–∞—à–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—è *</label>
                                <input type="text" id="userName" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required>
                            </div>
                            <div class="form-group">
                                <label for="userEmail">Email *</label>
                                <input type="email" id="userEmail" placeholder="ivan@example.com" required>
                            </div>
                            <div class="form-group">
                                <label for="userTelegram">Telegram username</label>
                                <input type="text" id="userTelegram" placeholder="@username">
                            </div>
                            <div class="form-group">
                                <label for="userMessage">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</label>
                                <textarea id="userMessage" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–µ–º –æ–ø—ã—Ç–µ –∏–ª–∏ –∏–¥–µ—è—Ö..."></textarea>
                            </div>
                            
                            ${currentCompetition.status === 'active' ? `
                                <button class="btn" onclick="registerForCompetition()" id="registerBtn">
                                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                                </button>
                            ` : `
                                <button class="btn" disabled>
                                    ${currentCompetition.status === 'ended' ? '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞' : '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–∫–æ—Ä–æ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è'}
                                </button>
                            `}
                        </div>
                    `;
                }, 300);
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∫–∞–∑–µ –¥–µ—Ç–∞–ª–µ–π –∫–æ–Ω–∫—É—Ä—Å–∞:', error);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—É—Ä—Å–µ');
            }
        }

        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å
        function registerForCompetition() {
            try {
                const userName = document.getElementById('userName').value;
                const userEmail = document.getElementById('userEmail').value;
                const userTelegram = document.getElementById('userTelegram').value;
                const userMessage = document.getElementById('userMessage').value;
                const registerBtn = document.getElementById('registerBtn');

                // –í–∞–ª–∏–¥–∞—Ü–∏—è
                if (!userName || !userEmail) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–∏–º—è –∏ email)');
                    return;
                }

                if (!validateEmail(userEmail)) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å');
                    return;
                }

                // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
                registerBtn.disabled = true;
                registerBtn.textContent = '–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º...';

                // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                setTimeout(() => {
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç fetch –∑–∞–ø—Ä–æ—Å –∫ API
                    console.log('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞:', {
                        competitionId: currentCompetition.id,
                        competitionTitle: currentCompetition.title,
                        userName,
                        userEmail,
                        userTelegram,
                        userMessage,
                        timestamp: new Date().toISOString()
                    });

                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                    document.getElementById('registrationForm').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
                    currentCompetition.participants++;
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—á–µ—Ç—á–∏–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
                    const participantSpan = document.querySelector('.detail-header .competition-meta span:nth-child(3)');
                    if (participantSpan) {
                        participantSpan.textContent = `üë• ${currentCompetition.participants}/${currentCompetition.maxParticipants}`;
                    }
                    
                    // –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                    const competitionInList = competitions.find(c => c.id === currentCompetition.id);
                    if (competitionInList) {
                        competitionInList.participants = currentCompetition.participants;
                    }
                }, 1500);
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:', error);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
            }
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function formatDate(dateString) {
            try {
                const date = new Date(dateString);
                return date.toLocaleDateString('ru-RU', {
                    day: 'numeric',
                    month: 'long',
                    year: 'numeric'
                });
            } catch (error) {
                return dateString;
            }
        }

        function getStatusText(status) {
            const statusMap = {
                'active': '–ò–¥–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è',
                'ended': '–ó–∞–≤–µ—Ä—à–µ–Ω',
                'upcoming': '–°–∫–æ—Ä–æ –Ω–∞—á–Ω–µ—Ç—Å—è'
            };
            return statusMap[status] || status;
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function goBack() {
            document.getElementById('detailPage').style.display = 'none';
            document.getElementById('successMessage').style.display = 'none';
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('mainPage').style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—É—Ä—Å–æ–≤ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            loadCompetitions();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω–∫—É—Ä—Å—ã...');
            loadCompetitions();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ Telegram WebApp API
            if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                try {
                    const tg = Telegram.WebApp;
                    tg.expand();
                    tg.ready();
                    
                    if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                        const user = tg.initDataUnsafe.user;
                        console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Telegram:', user);
                        
                        // –ú–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏ Telegram
                        // –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å username
                        if (user.username) {
                            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ
                            window.telegramUser = user;
                        }
                    }
                } catch (error) {
                    console.warn('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Telegram WebApp:', error);
                    // –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ Telegram API
                }
            }
        });

        // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ Telegram
        window.addEventListener('load', () => {
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
            const debugInfo = document.createElement('div');
            debugInfo.style.position = 'fixed';
            debugInfo.style.bottom = '10px';
            debugInfo.style.right = '10px';
            debugInfo.style.background = '#333';
            debugInfo.style.color = 'white';
            debugInfo.style.padding = '5px 10px';
            debugInfo.style.borderRadius = '5px';
            debugInfo.style.fontSize = '12px';
            debugInfo.style.zIndex = '1000';
            debugInfo.textContent = `–ö–æ–Ω–∫—É—Ä—Å–æ–≤: ${competitions.length}`;
            document.body.appendChild(debugInfo);
        });
    </script>
</body>
</html>
